import{q as u,A as c,s as K,v as b,x as S,_ as j,i as B,j as f,d as p,P as D,K as E,V as I,c as i,a as e,e as N,b as z,t as m,F as A,r as F,l as h,y as R,z as q,B as H,h as _,o as n,p as L,f as M,g as T}from"./index.9ee0ee77.js";class W{async getProfile(a){const o=await u.get("api/profiles/"+a);c.activeProfile=new K(o.data)}async getProfileKeeps(a){const o=await u.get(`api/profiles/${a}/keeps`);c.keeps=o.data.map(t=>new b(t))}async getProfileVaults(a){let t=(await u.get(`api/profiles/${a}/vaults`)).data.map(r=>new S(r));c.vaults=t}}const v=new W;const G={setup(){const s=q(),a=H();B(()=>{o(),t(),r()});async function o(){try{await v.getProfile(s.params.id)}catch(l){a.push({name:"Home"}),f.error(l)}}async function t(){try{await v.getProfileKeeps(s.params.id)}catch(l){f.error(l)}}async function r(){try{await v.getProfileVaults(s.params.id)}catch(l){f.error(l)}}return{profile:p(()=>c.activeProfile),items:p(()=>c.keeps),vaults:p(()=>c.vaults),size:p(()=>window.innerWidth<=768)}},components:{ProfileDetail:D,KeepCard:E,VaultCard:I}},g=s=>(L("data-v-d2ff26c9"),s=s(),M(),s),J={class:"container"},O={class:"row justify-content-center"},Q={class:"col-md-10"},U={class:"container-fluid"},X={class:"row justify-content-center"},Y={class:"col-md-8"},Z={class:"row justify-content-center"},$={class:"col-md-4 col-8 d-flex justify-content-between rounded-pill orange text-shadow"},ee={key:0},te={key:1},se=g(()=>e("span",{class:"bg-white one rounded"},null,-1)),ae={class:"row justify-content-evenly"},oe=g(()=>e("div",{class:"col-12 text-center"},[e("h1",{class:"btn fs-3",title:"vault collapse button","data-bs-toggle":"collapse","data-bs-target":"#collapseExample","aria-expanded":"false","aria-controls":"collapseExample"},[T(" vaults "),e("i",{class:"mdi mdi-play mdi-rotate-90 fs-4"})])],-1)),le={class:"row"},ne={class:"col-12"},ce=g(()=>e("div",{class:"text-center"},[e("h1",null,"keeps")],-1));function ie(s,a,o,t,r,l){var w,y,P;const x=_("ProfileDetail"),V=_("VaultCard"),k=_("KeepCard"),C=_("masonry-wall");return n(),i("div",J,[e("div",O,[e("div",Q,[e("div",U,[e("div",X,[e("div",Y,[t.profile?(n(),N(x,{key:0,profile:t.profile},null,8,["profile"])):z("",!0)])]),e("div",Z,[e("div",$,[t.vaults.length==1?(n(),i("span",ee,m((w=t.vaults)==null?void 0:w.length)+" Vault",1)):(n(),i("span",te,m((y=t.vaults)==null?void 0:y.length)+" Vaults",1)),se,e("span",null,m((P=t.items)==null?void 0:P.length)+" Keeps",1)])]),e("div",ae,[oe,(n(!0),i(A,null,F(t.vaults,d=>(n(),i("div",{class:"col-6 col-md-3 height my-3 collapse show",id:"collapseExample",key:d.id},[h(V,{vault:d},null,8,["vault"])]))),128))]),e("div",le,[e("div",ne,[ce,h(C,{items:t.items,"column-width":t.size?150:250,gap:16},{default:R(({item:d,index:re})=>[e("div",null,[h(k,{keep:d},null,8,["keep"])])]),_:1},8,["items","column-width"])])])])])])])}const pe=j(G,[["render",ie],["__scopeId","data-v-d2ff26c9"]]);export{pe as default};
